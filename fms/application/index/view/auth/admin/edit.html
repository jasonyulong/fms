{extend name="layout/dialog" /}
{block name='content'}
<form id="add-form" class="form-horizontal dialog-form" role="form" data-toggle="validator" method="POST" action="">
    <div class="container">
        <section class="content">
            <div class="form-group">
                <label class="control-label col-xs-12 col-sm-2">{:__('角色')}:</label>
                <div class="col-xs-12 col-sm-6">
                    {if $row.id != 1}
                    {:build_select('group[]', $groupdata, $groupids, ['class'=>'form-control selectpicker', 'multiple'=>'', 'data-rule'=>'required'])}
                    {else}
                    <input type="hidden" class="form-control" name="group[]" value="1"/>
                    超级管理员
                    {/if}
                </div>
            </div>
            <div class="form-group">
                <label for="username" class="control-label col-xs-12 col-sm-2">{:__('姓名')}:</label>
                <div class="col-xs-12 col-sm-8">

                    <input type="text" class="form-control" id="username" name="row[username]" value="{$row.username}" data-rule="required;username" data-rule-username="[/^[\u0391-\uFFE5]{2,30}$/, '请填写2-30个汉字']" {if $row.id == 1}disabled{/if}/>
                    {if $row.id == 1}
                    <input type="hidden" class="form-control" id="username" name="row[username]" value="{$row.username}"/>
                    {/if}
                </div>
            </div>
            <div class="form-group">
                <label for="username" class="control-label col-xs-12 col-sm-2">{:__('职务')}:</label>
                <div class="col-xs-12 col-sm-8">
                    <input type="text" class="form-control" id="position" name="row[position]" value="{$row.position}" data-rule="required"/>
                </div>
            </div>
            <div class="form-group">
                <label for="username" class="control-label col-xs-12 col-sm-2">{:__('手机号码')}:</label>
                <div class="col-xs-12 col-sm-8">
                    <input type="text" class="form-control" id="mobile" name="row[mobile]" value="{$row.mobile}" data-rule="required;mobile"/>
                </div>
            </div>
            <div class="form-group">
                <label for="email" class="control-label col-xs-12 col-sm-2">{:__('邮箱')}:</label>
                <div class="col-xs-12 col-sm-8">
                    <input type="email" class="form-control" id="email" name="row[email]" value="{$row.email}" data-rule="required;email"/>
                </div>
            </div>
            <div class="form-group">
                <label for="password" class="control-label col-xs-12 col-sm-2">{:__('登录密码')}:</label>
                <div class="col-xs-12 col-sm-8">
                    <input type="password" class="form-control" id="password" name="row[password]" autocomplete="new-password" value="" data-rule="password"/>
                </div>
            </div>
            {if $row.id != 1}
            <div class="form-group">
                <label class="control-label col-xs-12 col-sm-2">{:__('状态')}:</label>
                <div class="col-xs-12 col-sm-8">
                    {:build_radios('row[status]', ['0'=>__('禁用'), '1'=>__('正常'), '2'=>__('注销')], $row['status'])}
                </div>
            </div>
            <div class="form-group">
                <label class="control-label col-xs-12 col-sm-2">{:__('性别')}:</label>
                <div class="col-xs-12 col-sm-8">
                    {:build_radios('row[sex]', ['0'=>__('男'), '1'=>__('女')], $row['sex'])}
                </div>
            </div>
            <div class="form-group">
                <label class="control-label col-xs-12 col-sm-2">{:__('账户管理员')}:</label>
                <div class="col-xs-12 col-sm-8">
                    {:build_radios('row[is_account]', ['0'=>__('否'), '1'=>__('是')], $row['is_account'])}
                </div>
            </div>
            {/if}
        </section>
    </div>
    <div class=" layer-footer">
        <div class="col-xs-2"></div>
        <div class="col-xs-12 col-sm-8">
            <button type="submit" class="btn btn-success btn-embossed ">{:__('确定提交')}</button>
            <button type="reset" class="btn btn-default btn-embossed">{:__('重置')}</button>
        </div>
    </div>
</form>
{/block}